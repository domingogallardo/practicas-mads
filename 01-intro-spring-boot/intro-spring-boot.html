
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.5">
    
    
      
        <title>Introducción a Spring Boot - Prácticas MADS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Ubuntu";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="teal" data-md-color-accent="teal">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduccion-a-spring-boot" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href=".." title="Prácticas MADS" class="md-header__button md-logo" aria-label="Prácticas MADS" data-md-component="logo">
      
  <img src="../imagenes/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Prácticas MADS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introducción a Spring Boot
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Limpiar" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Prácticas MADS" class="md-nav__button md-logo" aria-label="Prácticas MADS" data-md-component="logo">
      
  <img src="../imagenes/logo.png" alt="logo">

    </a>
    Prácticas MADS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      <label class="md-nav__link" for="__nav_1">
        Práctica 1
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Práctica 1" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Práctica 1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="practica1.html" class="md-nav__link">
        Enunciado de la práctica
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Introducción a Spring Boot
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="intro-spring-boot.html" class="md-nav__link md-nav__link--active">
        Introducción a Spring Boot
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-aplicacion-ejemplo" class="md-nav__link">
    1. Aplicación ejemplo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-ejecucion-de-aplicaciones-spring-boot" class="md-nav__link">
    2. Ejecución de aplicaciones Spring Boot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-desarrollo-y-ejecucion-con-intellij" class="md-nav__link">
    3. Desarrollo y ejecución con IntelliJ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-conceptos-de-spring-boot" class="md-nav__link">
    4. Conceptos de Spring Boot
  </a>
  
    <nav class="md-nav" aria-label="4. Conceptos de Spring Boot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estructura-de-la-aplicacion" class="md-nav__link">
    Estructura de la aplicación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controladores" class="md-nav__link">
    Controladores
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clases-de-servicio" class="md-nav__link">
    Clases de Servicio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inyeccion-de-dependencias-en-spring" class="md-nav__link">
    Inyección de dependencias en Spring
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plantillas-thymeleaf" class="md-nav__link">
    Plantillas Thymeleaf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests" class="md-nav__link">
    Tests
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-referencias" class="md-nav__link">
    5. Referencias
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="comandos-git.html" class="md-nav__link">
        Resumen de comandos Git
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../02-todolist/practica2.html" class="md-nav__link">
        Práctica 2
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../03-pruebas-tdd/integration-tdd.html" class="md-nav__link">
        Práctica 3
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../04-gitflow-despliegue/gitflow-despliegue.html" class="md-nav__link">
        Práctica 4
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../05-iteracion-scrum/iteracion-scrum.html" class="md-nav__link">
        Práctica 5
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-aplicacion-ejemplo" class="md-nav__link">
    1. Aplicación ejemplo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-ejecucion-de-aplicaciones-spring-boot" class="md-nav__link">
    2. Ejecución de aplicaciones Spring Boot
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-desarrollo-y-ejecucion-con-intellij" class="md-nav__link">
    3. Desarrollo y ejecución con IntelliJ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-conceptos-de-spring-boot" class="md-nav__link">
    4. Conceptos de Spring Boot
  </a>
  
    <nav class="md-nav" aria-label="4. Conceptos de Spring Boot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#estructura-de-la-aplicacion" class="md-nav__link">
    Estructura de la aplicación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controladores" class="md-nav__link">
    Controladores
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clases-de-servicio" class="md-nav__link">
    Clases de Servicio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inyeccion-de-dependencias-en-spring" class="md-nav__link">
    Inyección de dependencias en Spring
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plantillas-thymeleaf" class="md-nav__link">
    Plantillas Thymeleaf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tests" class="md-nav__link">
    Tests
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-referencias" class="md-nav__link">
    5. Referencias
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="introduccion-a-spring-boot">Introducción a Spring Boot<a class="headerlink" href="#introduccion-a-spring-boot" title="Permanent link">&para;</a></h1>
<p>Vamos a trabajar con la versión 2.4.8 de Spring Boot. Se puede
consultar toda la documentación oficial sobre esta versión en <a href="https://docs.spring.io/spring-boot/docs/2.4.8/reference/html/index.html">este
enlace</a>. </p>
<h2 id="1-aplicacion-ejemplo">1. Aplicación ejemplo<a class="headerlink" href="#1-aplicacion-ejemplo" title="Permanent link">&para;</a></h2>
<p>Es muy sencillo crear aplicaciones de Spring Boot <strong>desde cero</strong> usando la
web <a href="https://start.spring.io">Spring initializr</a>. En esa página puedes
configurar los metadatos del proyecto y sus dependencias y descargar
el proyecto como un ZIP con la estructura de directorios y el POM
ya configurados. </p>
<p>Nosotros vamos a hacerlo más fácil todavía usando una aplicación
ejemplo en GitHub
<a href="https://github.com/domingogallardo/spring-boot-demoapp">domingogallardo/spring-boot-demoapp</a>. </p>
<p>En el <a href="practica1.html">enunciado de la práctica</a> se encuentran las instrucciones para
crear un repositorio GitHub y descargarla en tu ordenador local.</p>
<p>La aplicación es un sencillo <code>Hola mundo</code>. En los siguientes apartados
explicamos cómo lanzarla y cómo funciona.</p>
<h2 id="2-ejecucion-de-aplicaciones-spring-boot">2. Ejecución de aplicaciones Spring Boot<a class="headerlink" href="#2-ejecucion-de-aplicaciones-spring-boot" title="Permanent link">&para;</a></h2>
<p>Spring Boot permite ejecutar aplicaciones Spring de forma
<em>standalone</em>, sin necesidad de un servidor de aplicaciones. Una
aplicación Spring Boot lleva incluido un servidor web embebido
(Tomcat) que se pone en marcha al lanzar la aplicación y sirve todas
las páginas de la aplicación web.</p>
<p>Para lanzar una aplicación Spring Boot es suficiente tener instalados:</p>
<ul>
<li>JDK Java (8 en adelante)</li>
<li>Maven</li>
</ul>
<p>Maven incluso no es necesario si la aplicación Spring Boot lo tiene ya
instalado utilizando <a href="https://github.com/takari/maven-wrapper">Maven
Wrapper</a>, como es el caso de
la aplicación ejemplo.</p>
<p>Desde el directorio donde está la aplicación que queremos lanzar
podemos arrancarla como una aplicación Java. Podemos llamar a <code>mvn</code> si
tenemos instalado Maven o a <code>./mvnw</code> para usar Maven Wrapper:</p>
<div class="highlight"><pre><span></span><code>$ ./mvnw package
$ java -jar target/demoapp-0.0.1-SNAPSHOT.jar 
</code></pre></div>
<p>También podemos lanzarla usando el plugin <code>spring-boot</code> de Maven:</p>
<div class="highlight"><pre><span></span><code>$ ./mvnw spring-boot:run
</code></pre></div>
<p>La aplicación se arranca por defecto en el puerto local 8080. Una vez
arrancada la aplicación podemos conectarnos desde un navegador a sus
páginas de inicio.</p>
<p>En el caso de la aplicación demo descargada, podemos probar las
siguientes páginas:</p>
<ul>
<li><a href="http://localhost:8080">http://localhost:8080</a></li>
<li><a href="http://localhost:8080/saludo/Pepito">http://localhost:8080/saludo/Pepito</a></li>
<li><a href="http://localhost:8080/saludoplantilla/Pepito">http://localhost:8080/saludoplantilla/Pepito</a></li>
</ul>
<h2 id="3-desarrollo-y-ejecucion-con-intellij">3. Desarrollo y ejecución con IntelliJ<a class="headerlink" href="#3-desarrollo-y-ejecucion-con-intellij" title="Permanent link">&para;</a></h2>
<p>Recomendamos hacer el desarrollo usando el IDE <a href="https://www.jetbrains.com/idea/download/">IntelliJ
Ultimate</a>. Aunque es de
pago, es posible <a href="https://www.jetbrains.com/shop/eform/students">obtener una licencia de
estudiante</a> usando la
dirección de correo de la UA.</p>
<p>Para importar un proyecto Spring Boot en IntelliJ basta con
importar el directorio donde se encuentre el fichero <code>pom.xml</code>. Se
puede hacer desde la pantalla de bienvenida de IntelliJ con la opción
<strong>Import Project</strong> o usando la opción <strong>File &gt; New &gt; Project from
Existing Sources</strong>. Aparecerá la pantalla de importación y
seleccionamos el importador <strong>Maven</strong>:</p>
<p><img src="imagenes/import-intellij.png" width="600px" /></p>
<p>IntelliJ importa el proyecto correctamente:</p>
<p><img src="imagenes/proyecto-desplegado.png" width="300px"/></p>
<p>Podemos ejecutarlo abriendo un terminal y lanzándolo con Maven. O
también desde la <strong>configuración de Run</strong> que ha creado IntelliJ al
realizar la importación:</p>
<p><img src="imagenes/configuracion-run.png" width="250px"/></p>
<p>Se abrirá un panel de ejecución desde el que se puede parar la
aplicación, volverla a lanzar, etc:</p>
<p><img src="imagenes/panel-ejecucion.png" width="900px"/></p>
<h2 id="4-conceptos-de-spring-boot">4. Conceptos de Spring Boot<a class="headerlink" href="#4-conceptos-de-spring-boot" title="Permanent link">&para;</a></h2>
<h3 id="estructura-de-la-aplicacion">Estructura de la aplicación<a class="headerlink" href="#estructura-de-la-aplicacion" title="Permanent link">&para;</a></h3>
<p>Estructura de directorios típica de los proyectos Java construidos con
Maven:</p>
<p><img src="imagenes/estructura-app.png" width="300px"/></p>
<p>El fichero <code>pom.xml</code> declara las dependencias. Spring Boot proporciona
<em>starters</em> que agrupan un conjunto de dependencias comunes.</p>
<p><strong>Fichero <code>pom.xml</code></strong></p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> 
         <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
         <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://maven.apache.org/POM/4.0.0 </span>
<span class="s">         https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>

    <span class="nt">&lt;groupId&gt;</span>es.ua.mads<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>demoapp<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;name&gt;</span>demoapp<span class="nt">&lt;/name&gt;</span>

    <span class="nt">&lt;parent&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-parent<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>2.1.16.RELEASE<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/parent&gt;</span>

    <span class="nt">&lt;properties&gt;</span>
        <span class="nt">&lt;java.version&gt;</span>1.8<span class="nt">&lt;/java.version&gt;</span>
    <span class="nt">&lt;/properties&gt;</span>

    <span class="nt">&lt;dependencies&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-thymeleaf<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;/dependencies&gt;</span>

    <span class="nt">&lt;build&gt;</span>
        <span class="nt">&lt;plugins&gt;</span>
            <span class="nt">&lt;plugin&gt;</span>
                <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
                <span class="nt">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;/plugin&gt;</span>
        <span class="nt">&lt;/plugins&gt;</span>
    <span class="nt">&lt;/build&gt;</span>

<span class="nt">&lt;/project&gt;</span>
</code></pre></div>
<p>En el panel de Maven de IntelliJ se puede consultar las librerías concretas que
se han descargado:</p>
<p><img src="imagenes/dependencias-maven.png" width="600px"/></p>
<p>En el fichero de configuración de la aplicación se definen propiedades
que configuran distintos aspectos de la misma, como la base de datos
con la que se va a trabajar o el puerto en el que debe
ejecutarse. Conforme necesitemos configurar estas propiedades iremos
añadiendo elementos al fichero.</p>
<p><strong>Fichero <code>resources/application.properties</code></strong></p>
<div class="highlight"><pre><span></span><code>spring.application.name = demoapp
</code></pre></div>
<h3 id="controladores">Controladores<a class="headerlink" href="#controladores" title="Permanent link">&para;</a></h3>
<p>Los controladores definen el código a ejecutar como respuesta a una
petición HTTP. Son clases que se suelen colocar en el paquete
<code>controller</code> y están anotadas con <code>@Controller</code>.</p>
<p>Vemos un ejemplo en la clase <code>SaludoController</code>.</p>
<p><strong>Fichero <code>src/main/java/demoapp/controller/SaludoController.java</code></strong>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">demoapp.controller</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">demoapp.service.SaludoService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PathVariable</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.ResponseBody</span><span class="p">;</span>


<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SaludoController</span> <span class="p">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">SaludoService</span> <span class="n">service</span><span class="p">;</span>

    <span class="nd">@Autowired</span>
    <span class="kd">public</span> <span class="nf">SaludoController</span><span class="p">(</span><span class="n">SaludoService</span> <span class="n">service</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">service</span> <span class="o">=</span> <span class="n">service</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/saludo/{nombre}&quot;</span><span class="p">)</span>
    <span class="kd">public</span> <span class="nd">@ResponseBody</span> <span class="n">String</span> <span class="nf">saludo</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s">&quot;nombre&quot;</span><span class="p">)</span> <span class="n">String</span> <span class="n">nombre</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">service</span><span class="p">.</span><span class="na">saluda</span><span class="p">(</span><span class="n">nombre</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<p>Los métodos en los que se definen las respuestas a las peticiones HTTP
están anotados con anotaciones en las que se indica el tipo de
petición y la URL a la que se responde.</p>
<p>Por ejemplo, en la clase anterior el método <code>saludo</code> contesta a las
peticiones dirigida a la URL <code>/saludo/Ana</code>. La cadena <code>Ana</code> en la URL
es decodificada y pasada en el parámetro <code>nombre</code> al método.</p>
<p>El método devuelve la respuesta HTTP. La anotación <code>@ResponseBody</code>
construye automáticamente esta respuesta, añadiendo como contenido de
la misma la cadena devuelta por el servicio. </p>
<p>En este caso la respuesta es:</p>
<div class="highlight"><pre><span></span><code>HTTP/1.1 200 
Content-Type: text/plain;charset=UTF-8
Content-Length: 8
Date: Mon, 02 Sep 2019 14:59:04 GMT

Hola Ana
</code></pre></div>
<h3 id="clases-de-servicio">Clases de Servicio<a class="headerlink" href="#clases-de-servicio" title="Permanent link">&para;</a></h3>
<p>Es recomendable definir clases de servicio en las que se implementa la
lógica de negocio de la aplicación. Las clases <em>controller</em> llaman a las
clases servicio, que son las que realmente realizan todo el
procesamiento.</p>
<p>De esta forma se separan las responsabilidades. Las clases <em>controller</em>
se encargan de procesar las peticiones y las respuestas HTTP y las
clases de servicio son las que realmente realizan la lógica de negocio
y devuelven el contenido de las respuestas. Si en algún momento hay
que añadir una nueva capa de presentación en la que, por ejemplo, se
trabaje con objetos JSON, no será necesario cambiar la capa de
servicios, sólo añadir nuevas clases <em>controller</em>.</p>
<p>La separación de la lógica de negocio en las clases de servicio
permite también realizar tests que trabajan sobre objetos Java,
independientes de los formatos de entrada/salida manejados por los
controladores. </p>
<p><strong>Fichero <code>src/main/java/demoapp/service/SaludoService.java</code></strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">demoapp.service</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="p">;</span>

<span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SaludoService</span> <span class="p">{</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">saluda</span><span class="p">(</span><span class="n">String</span> <span class="n">nombre</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">&quot;Hola &quot;</span> <span class="o">+</span> <span class="n">nombre</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="inyeccion-de-dependencias-en-spring">Inyección de dependencias en Spring<a class="headerlink" href="#inyeccion-de-dependencias-en-spring" title="Permanent link">&para;</a></h3>
<p>Spring Boot utiliza la anotación <code>@Autowired</code> para inyectar en la
variable anotada un objeto nuevo del tipo indicado. Se puede definir
la anotación en la variable o en el constructor de la clase.</p>
<p>En los ejemplos anteriores podemos comprobar estas anotaciones. En la
aplicación ejemplo se define un controlador y un servicio que devuelve
un saludo. El servicio se anota con la anotación <code>@Service</code> y esta
anotación le indica a Spring Boot que la clase que va a poder ser
inyectada.</p>
<p>En el controlador se necesita instanciar un objeto de la clase
<code>SaludoService</code> y se hace usando inyección de dependencias. En este
caso lo hacemos anotando el constructor. Spring Boot se encarga de
obtener una instancia y de inyectarla en la variable <code>service</code> que se
pasa como parámetro al constructor.</p>
<p>Mediante la inyección de dependencias el código es más flexible y es
más fácil de testear, pudiéndose definir <em>mocks</em> que sustituyen los
objetos inyectados.</p>
<p>Más información en la documentación de Spring Boot <a href="https://docs.spring.io/spring-boot/docs/2.1.16.RELEASE/reference/htmlsingle/#using-boot-spring-beans-and-dependency-injection">Spring Beans and Dependency Injection</a>.</p>
<h4 id="alcance-de-los-objetos-inyectados">Alcance de los objetos inyectados<a class="headerlink" href="#alcance-de-los-objetos-inyectados" title="Permanent link">&para;</a></h4>
<p>Por defecto el alcance (<em>scope</em>) de todas las anotaciones de Spring (<code>@service</code>,
<code>@controller</code>, <code>@component</code>, etc.) es un <em>Singleton</em>. Existe una única
instancia de ese objeto que es la que se inyecta en las variables.</p>
<p>Al estar funcionando en una aplicación web, el <em>singleton</em> que hace de
controlador recibirá múltiples peticiones concurrentemente. Cada
petición irá en su propio hilo de Java, por lo que múltiples hilos
podrán estar ejecutando el mismo código del controlador. </p>
<p>Por ello hay que tener cuidado en <strong>no definir variables de instancia
mutables (con estado)</strong> dentro del controlador, porque podrían
producirse errores debidos a condiciones de carrera (un hilo modifica
la misma variable que otro está leyendo). Es conveniente que todos los
<em>beans</em> (controladores, servicios, etc.) sean objetos sin estado.</p>
<p>También es posible definir otros alcances, como <code>@RequestScope</code> o
<code>@SessionScope</code>. En el primer caso se crea una instancia nueva del
objeto para cada petición HTTP y en el segundo se crea una instancia
nueva en cada sesión HTTP.</p>
<p>Puedes encontrar más información y ejemplos en <a href="https://www.baeldung.com/spring-bean-scopes">este enlace</a>.</p>
<h3 id="plantillas-thymeleaf">Plantillas Thymeleaf<a class="headerlink" href="#plantillas-thymeleaf" title="Permanent link">&para;</a></h3>
<p>Las páginas HTML devueltas se pueden construir
utilizando un lenguaje de plantillas con el framework
<a href="https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html">Thymeleaf</a>. Las
plantillas thymeleaf son páginas HTML en las que se introducen objetos
Java pasados por los controllers.</p>
<p>Las plantillas se incluyen en el directorio <code>resources/templates</code>.</p>
<p>Por ejemplo, el siguiente fichero es una sencilla plantilla que
muestra un saludo. El objeto <code>mensaje</code> es una cadena que se pasa desde
el controller.</p>
<p><strong>Fichero <code>src/main/resources/templates/saludo.html</code></strong></p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">xmlns:th</span><span class="o">=</span><span class="s">&quot;http://www.thymeleaf.org&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">th:text</span><span class="o">=</span><span class="s">&quot;&#39;Saludo: &#39; + ${mensaje}&quot;</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>
<p>El controller construye la vista devolviendo el nombre de la
plantilla. Y pasa a la plantilla los objetos a mostrar usando un
diccionario (la variable <code>model</code> que recibe como parámetro):</p>
<p><strong>Fichero <code>src/main/java/demoapp/controller/SaludoControllerPlantilla.java</code></strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">demoapp.controller</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">demoapp.service.SaludoService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.ui.Model</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.PathVariable</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RequestMapping</span><span class="p">;</span>


<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SaludoControllerPlantilla</span> <span class="p">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">SaludoService</span> <span class="n">service</span><span class="p">;</span>

    <span class="nd">@Autowired</span>
    <span class="kd">public</span> <span class="nf">SaludoControllerPlantilla</span><span class="p">(</span><span class="n">SaludoService</span> <span class="n">service</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">service</span> <span class="o">=</span> <span class="n">service</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nd">@RequestMapping</span><span class="p">(</span><span class="s">&quot;/saludoplantilla/{nombre}&quot;</span><span class="p">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">saludo</span><span class="p">(</span><span class="nd">@PathVariable</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s">&quot;nombre&quot;</span><span class="p">)</span> <span class="n">String</span> <span class="n">nombre</span><span class="p">,</span> 
                                                       <span class="n">Model</span> <span class="n">model</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Se añade la respuesta a la clave &#39;mensaje&#39; que se usa</span>
        <span class="c1">// en la plantilla</span>
        <span class="n">model</span><span class="p">.</span><span class="na">addAttribute</span><span class="p">(</span><span class="s">&quot;mensaje&quot;</span><span class="p">,</span> <span class="n">service</span><span class="p">.</span><span class="na">saluda</span><span class="p">(</span><span class="n">nombre</span><span class="p">));</span>
        <span class="c1">// Se llama a la plantilla &#39;saludo.html&#39;</span>
        <span class="k">return</span> <span class="s">&quot;saludo&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="tests">Tests<a class="headerlink" href="#tests" title="Permanent link">&para;</a></h3>
<p>En Spring Boot 2.4 se usa JUnit 5 como librería de tests.</p>
<p>En la aplicación de demostración hay varios ejemplos que muestran
posibles formas de realizar pruebas en una aplicación Spring Boot.</p>
<p>Spring Boot incluye el framework
<a href="https://assertj.github.io/doc/">AssertJ</a> que permite realizar
expresiones de prueba con un lenguaje muy expresivo.</p>
<p>Los tests se pueden ejecutar usando el comando típico de Maven:</p>
<div class="highlight"><pre><span></span><code>$ mvn test
</code></pre></div>
<p>O también, usando el comando de Maven Wrapper:</p>
<div class="highlight"><pre><span></span><code>$ .mvnw test
</code></pre></div>
<p>También se pueden lanzar desde el propio IntelliJ, pulsando en el
panel del proyecto sobre el directorio de tests con el botón
derecho. Los tests se lanzarán y aparecerá un panel en el que se
mostrará si pasan correctamente (verde) o no.</p>
<p><img src="imagenes/tests-intellij.png" width="600px" /></p>
<h4 id="tests-sobre-clases-de-servicio">Tests sobre clases de servicio<a class="headerlink" href="#tests-sobre-clases-de-servicio" title="Permanent link">&para;</a></h4>
<p>Podemos realizar pruebas sobre la capa de servicio, obteniendo una
instancia del servicio mediante inyección de dependencias.</p>
<p>En el siguiente ejemplo se muestra cómo se prueba el método de
servicio <code>saluda</code>.</p>
<p><strong>Fichero <code>src/test/java/demoapp/ServiceTest.java</code></strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">demoapp</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">demoapp.service.SaludoService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.context.SpringBootTest</span><span class="p">;</span>
<span class="kn">import static</span> <span class="nn">org.assertj.core.api.Assertions.assertThat</span><span class="p">;</span>

<span class="nd">@SpringBootTest</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ServiceTest</span> <span class="p">{</span>

    <span class="nd">@Autowired</span>
    <span class="n">SaludoService</span> <span class="n">saludo</span><span class="p">;</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">contexLoads</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>
        <span class="n">assertThat</span><span class="p">(</span><span class="n">saludo</span><span class="p">).</span><span class="na">isNotNull</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">serviceSaludo</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>
        <span class="n">assertThat</span><span class="p">(</span><span class="n">saludo</span><span class="p">.</span><span class="na">saluda</span><span class="p">(</span><span class="s">&quot;Domingo&quot;</span><span class="p">)).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;Hola Domingo&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="tests-sobre-capa-web">Tests sobre capa web<a class="headerlink" href="#tests-sobre-capa-web" title="Permanent link">&para;</a></h4>
<p>Es posible realizar tests sobre la capa de presentación sin lanzar
realmente el servidor web ni ejecutar realmente las peticiones
HTTP. Se obtiene por inyección de dependencias un <em>mock</em> de
la clase <code>MockMvc</code> y se usan métodos como <code>perform(get("/"))</code>.</p>
<p>En el primer test del ejemplo siguiente se comprueba que una petición
<code>GET</code> a la URL <code>/</code> devuelve un código HTTP OK (200) y una página HTML
con la cadena esperada.</p>
<p>En este test lo único que se moquea es el servidor web, y se ejecuta
el código real del servicio, del controlador y de la plantilla.</p>
<p>Se utilizan los métodos <code>andDo</code> y <code>andExpect</code> de la propia librería de
testeo de Spring Framework y el método <code>conteainsString</code> de la
librería de testeo <a href="http://hamcrest.org/JavaHamcrest/tutorial">Hamcrest</a>.</p>
<p>También es posible realizar un test únicamente del controlador y la
plantilla de presentación, moqueando el servicio. Se muestra en el
segundo test del ejemplo.</p>
<p><strong>Fichero <code>src/test/demoapp/WebMockTest.java</code></strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">demoapp</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">demoapp.service.SaludoService</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.context.SpringBootTest</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.mock.mockito.MockBean</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.test.web.servlet.MockMvc</span><span class="p">;</span>

<span class="kn">import static</span> <span class="nn">org.hamcrest.Matchers.containsString</span><span class="p">;</span>
<span class="kn">import static</span> <span class="nn">org.mockito.Mockito.when</span><span class="p">;</span>
<span class="kn">import static</span> <span class="nn">org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get</span><span class="p">;</span>
<span class="kn">import static</span> <span class="nn">org.springframework.test.web.servlet.result.MockMvcResultMatchers.content</span><span class="p">;</span>
<span class="kn">import static</span> <span class="nn">org.springframework.test.web.servlet.result.MockMvcResultMatchers.status</span><span class="p">;</span>

<span class="nd">@SpringBootTest</span>
<span class="nd">@AutoConfigureMockMvc</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WebMockTest</span> <span class="p">{</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="n">MockMvc</span> <span class="n">mockMvc</span><span class="p">;</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">shouldReturnDefaultMessage</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="na">mockMvc</span><span class="p">.</span><span class="na">perform</span><span class="p">(</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">))</span>
                <span class="p">.</span><span class="na">andExpect</span><span class="p">(</span><span class="n">status</span><span class="p">().</span><span class="na">isOk</span><span class="p">())</span>
                <span class="p">.</span><span class="na">andExpect</span><span class="p">(</span><span class="n">content</span><span class="p">().</span><span class="na">string</span><span class="p">(</span><span class="n">containsString</span><span class="p">(</span><span class="s">&quot;Hello World&quot;</span><span class="p">)));</span>
    <span class="p">}</span>

    <span class="c1">// Podemos también mockear el servicio</span>
    <span class="nd">@MockBean</span>
    <span class="kd">private</span> <span class="n">SaludoService</span> <span class="n">service</span><span class="p">;</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">greetingShouldReturnMessageFromService</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>

        <span class="c1">// Y especificar lo que debe devolver una llamada a uno de sus métodos</span>
        <span class="n">when</span><span class="p">(</span><span class="n">service</span><span class="p">.</span><span class="na">saluda</span><span class="p">(</span><span class="s">&quot;Domingo&quot;</span><span class="p">)).</span><span class="na">thenReturn</span><span class="p">(</span><span class="s">&quot;Hola Mock Domingo&quot;</span><span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="na">mockMvc</span><span class="p">.</span><span class="na">perform</span><span class="p">(</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/saludo/Domingo&quot;</span><span class="p">))</span>
                <span class="p">.</span><span class="na">andExpect</span><span class="p">(</span><span class="n">status</span><span class="p">().</span><span class="na">isOk</span><span class="p">())</span>
                <span class="p">.</span><span class="na">andExpect</span><span class="p">(</span><span class="n">content</span><span class="p">().</span><span class="na">string</span><span class="p">(</span><span class="n">containsString</span><span class="p">(</span><span class="s">&quot;Hola Mock Domingo&quot;</span><span class="p">)));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="tests-sobre-la-aplicacion-en-funcionamiento">Tests sobre la aplicación en funcionamiento<a class="headerlink" href="#tests-sobre-la-aplicacion-en-funcionamiento" title="Permanent link">&para;</a></h4>
<p>Por último, también podemos realizar tests sobre la aplicación
funcionando completamente, realizando una petición al servidor web y
comprobando que se devuelve lo esperado.</p>
<p>Estos tests son los más costosos porque conllevan levantar el servidor
web y realizar completamente el procesamiento de la petición. </p>
<p><strong>Fichero <code>src/test/java/demoapp/HttpRequestTest</code></strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">package</span> <span class="nn">demoapp</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">org.junit.jupiter.api.Test</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.context.SpringBootTest</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.web.client.TestRestTemplate</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.web.server.LocalServerPort</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.test.context.SpringBootTest.WebEnvironment</span><span class="p">;</span>

<span class="kn">import static</span> <span class="nn">org.assertj.core.api.Assertions.assertThat</span><span class="p">;</span>

<span class="nd">@SpringBootTest</span><span class="p">(</span><span class="n">webEnvironment</span> <span class="o">=</span> <span class="n">WebEnvironment</span><span class="p">.</span><span class="na">RANDOM_PORT</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HttpRequestTest</span> <span class="p">{</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="n">TestRestTemplate</span> <span class="n">restTemplate</span><span class="p">;</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">greetingShouldReturnDefaultMessage</span><span class="p">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="p">{</span>
        <span class="n">String</span> <span class="n">body</span> <span class="o">=</span> <span class="n">restTemplate</span><span class="p">.</span><span class="na">getForObject</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">,</span> <span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
        <span class="n">assertThat</span><span class="p">(</span><span class="n">body</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;Hello World&quot;</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="5-referencias">5. Referencias<a class="headerlink" href="#5-referencias" title="Permanent link">&para;</a></h2>
<p>Puedes encontrar la documentación de referencia de Spring Boot y
Spring en las siguientes páginas, en la pestaña <em>Learn</em>:</p>
<ul>
<li><a href="https://spring.io/projects/spring-boot">Spring Boot</a></li>
<li><a href="https://spring.io/projects/spring-framework">Spring</a> </li>
</ul>
<p>También podemos encontrar también una extensa cantidad de tutoriales y guías
rápidas en la web de Spring, en la url
<a href="https://spring.io/guides">https://spring.io/guides</a>.</p>
<p>En concreto, hemos usado las siguientes referencias para construir
esta primera aplicación ejemplo:</p>
<ul>
<li>Getting Started Guide <a href="https://spring.io/guides/gs/spring-boot/">Building an Application with Spring Boot</a></li>
<li>Getting Started Guide <a href="https://spring.io/guides/gs/serving-web-content/">Serving Web Content with Spring MVC</a></li>
<li>Spring Boot Reference Guide 2.4.8
  (<a href="https://docs.spring.io/spring-boot/docs/2.4.8/reference/htmlsingle/">HTML</a>, <a href="https://docs.spring.io/spring-boot/docs/2.4.8/reference/pdf/spring-boot-reference.pdf">PDF</a>)</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Pie">
      
        <a href="practica1.html" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Anterior
              </span>
              Enunciado de la práctica
            </div>
          </div>
        </a>
      
      
        <a href="comandos-git.html" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Siguiente
              </span>
              Resumen de comandos Git
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copiar al portapapeles", "clipboard.copied": "Copiado al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "B\u00fasqueda", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.term.missing": "Falta"}, "search": "../assets/javascripts/workers/search.d351de03.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.a1609d9a.min.js"></script>
      
    
  </body>
</html>